<!doctype html>
<html class="no-js">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Login2</title>

		<!-- Set render engine for 360 browser -->
		<meta name="renderer" content="webkit">

		<!-- No Baidu Siteapp-->
		<meta http-equiv="Cache-Control" content="no-siteapp" />

		<link rel="icon" type="image/png" href="assets/i/favicon.png">

		<!-- Add to homescreen for Chrome on Android -->
		<meta name="mobile-web-app-capable" content="yes">
		<link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">

		<!-- Add to homescreen for Safari on iOS -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-title" content="Amaze UI" />
		<link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">

		<!-- Tile icon for Win8 (144x144 + tile color) -->
		<meta name="msapplication-TileImage" content="assets/i/app-icon72x72@2x.png">
		<meta name="msapplication-TileColor" content="#0e90d2">

		<link rel="stylesheet" href="assets/css/amazeui.min.css">
		<link rel="stylesheet" href="assets/css/app.css">
		<link rel="stylesheet" type="text/css" href="assets/css/login2.css" />
	</head>

	<body>
		<form action="" class="am-form forms" id="form-with-tooltip">
			<fieldset>
				<div class="am-form-group borders relative">
					<input class="input_txt js-pattern-mobile" type="text" id="doc-vld-name-2-0" placeholder="输入用户名" required/>
					<img class="input_img1" src="1img/icon_username.png" />
				</div>
				<div class="am-form-group borders relative">
					<input type="password" id="doc-vld-pwd-1-0" placeholder="密码" required data-foolish-msg="把 IQ 卡密码交出来！" />
					<img class="input_img1" src="1img/icon_password.png" />
				</div>
				<div class="am-form-group borders relative">
					<input class="input_txt" type="text" id="doc-vld-name-2-0" minlength="4" placeholder="输入验证码" required data-foolish-msg="请输入验证码" />
					<img class="input_img2" src="1img/20170930140020_03.png" />
				</div>
				<div class="forgetkey">
					忘记密码？
				</div>
				<!--<div class="btns">
					<button type="button" class="am-btn am-btn-secondary left_btn">登录</button>
					<a href="reg.html"><button type="button" class="right_btn">立即注册</button></a>
				</div>-->
				<button id="login2" class="am-btn am-btn-secondary btns left_btn" type="button">提交</button>
				<a href="reg.html"><button type="button" class=" right_btn">立即注册</button></a>
			</fieldset>
		</form>
		<div class="partners">
			<p>--------- <b>合作帐号登录</b> ----------</p>
			<p class="partners_logo"><img src="1img/login-qq.png" /> <img src="1img/login-weibo.png" /></p>
			<p class="bottom_logo"><img src="1img/yiguo_logo.png" /></p>
		</div>

		<script src="assets/js/jquery-1.8.3.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/amazeui.min.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$(function() {
					var $form = $('#form-with-tooltip');
					var $tooltip = $('<div id="vld-tooltip">提示信息！</div>');
					$tooltip.appendTo(document.body);

					$form.validator();

					var validator = $form.data('amui.validator');

					$form.on('focusin focusout', '.am-form-error input', function(e) {
						if(e.type === 'focusin') {
							var $this = $(this);
							var offset = $this.offset();
							var msg = $this.data('foolishMsg') || validator.getValidationMessage($this.data('validity'));

							$tooltip.text(msg).show().css({
								left: offset.left + 10,
								top: offset.top + $(this).outerHeight() + 10
							});
						} else {
							$tooltip.hide();
						}
					});
				});
				if($.AMUI && $.AMUI.validator) {
					$.AMUI.validator.patterns.mobile = /^\s*1\d{10}\s*$/;
				}
				$("#login2").click(function() {
					/* Act on the event */
					//表单序列化
					var flag = $("form").validator('isFormValid');
					if(flag) {
						var data = $("form").serialize();
						console.log(data);
						$.post('/users/register/', data, function(data, textStatus, xhr) {
							/*optional stuff to do after success */

						});
					}

				})
			})
		</script>
	</body>

</html>